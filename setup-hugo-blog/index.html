<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Hugo+GitHub Action+Github Pages搭建个人博客 - Yuepu`s Blog</title><meta name=Description content="关于 LoveIt 主题"><meta property="og:title" content="Hugo+GitHub Action+Github Pages搭建个人博客"><meta property="og:description" content="现在市面上的博客很多，如CSDN，博客园，简书等平台，可以直接在上面发表，用户交互做的好，写的文章百度也能搜索的到。缺点是比较不自由，会受到"><meta property="og:type" content="article"><meta property="og:url" content="https://pingyangblog.com/setup-hugo-blog/"><meta property="og:image" content="https://pingyangblog.com/logo.png"><meta property="article:published_time" content="2021-05-27T10:41:58+08:00"><meta property="article:modified_time" content="2021-05-27T10:41:58+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://pingyangblog.com/logo.png"><meta name=twitter:title content="Hugo+GitHub Action+Github Pages搭建个人博客"><meta name=twitter:description content="现在市面上的博客很多，如CSDN，博客园，简书等平台，可以直接在上面发表，用户交互做的好，写的文章百度也能搜索的到。缺点是比较不自由，会受到"><meta name=application-name content="Yuepu`s Blog"><meta name=apple-mobile-web-app-title content="Yuepu`s Blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://pingyangblog.com/setup-hugo-blog/><link rel=next href=https://pingyangblog.com/theme-seo/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Hugo+GitHub Action+Github Pages搭建个人博客","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/pingyangblog.com\/setup-hugo-blog\/"},"image":["https:\/\/pingyangblog.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"搭建","wordcount":5619,"url":"https:\/\/pingyangblog.com\/setup-hugo-blog\/","datePublished":"2021-05-27T10:41:58+08:00","dateModified":"2021-05-27T10:41:58+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Yuepu","logo":"https:\/\/pingyangblog.com\/images\/avatar.jpg"},"author":{"@type":"Person","name":"Yuepu"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Yuepu`s Blog"><span class=header-title-pre><i class="far fa-kiss-wink-heart fa-fw"></i></span><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>所有文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/friends/>友链 </a><a class=menu-item href=/about/>关于 </a><a class=menu-item href=https://blog.csdn.net/weixin_41284138 title=CSDN rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i></a><a class=menu-item href=https://k8syaml.com/ title=k8syaml rel="noopener noreffer" target=_blank><i class="fab fa-docker"></i></a><a class=menu-item href=/links/ title="Learning links"><i class="fab fa-blog"></i></a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Yuepu`s Blog"><span class=header-title-pre><i class="far fa-kiss-wink-heart fa-fw"></i></span><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/posts/>所有文章</a><a class=menu-item href=/tags/>标签</a><a class=menu-item href=/categories/>分类</a><a class=menu-item href=/friends/>友链</a><a class=menu-item href=/about/>关于</a><a class=menu-item href=https://blog.csdn.net/weixin_41284138 title=CSDN rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i></a><a class=menu-item href=https://k8syaml.com/ title=k8syaml rel="noopener noreffer" target=_blank><i class="fab fa-docker"></i></a><a class=menu-item href=/links/ title="Learning links"><i class="fab fa-blog"></i></a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Hugo+GitHub Action+Github Pages搭建个人博客</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://pingyangblog.com/ title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>Yuepu</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-05-27>2021-05-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 5619 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 12 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#前言>前言</a></li><li><a href=#目的>目的</a></li><li><a href=#流程及原理>流程及原理</a></li><li><a href=#详细步骤>详细步骤</a><ul><li><a href=#安装git和关联github>安装git和关联GitHub</a></li><li><a href=#安装hugo>安装Hugo</a><ul><li><a href=#下载hugo>下载Hugo</a></li><li><a href=#生成博客>生成博客</a></li><li><a href=#下载主题>下载主题</a></li><li><a href=#启动博客>启动博客</a></li><li><a href=#写一篇文章>写一篇文章</a></li><li><a href=#编译博客>编译博客</a></li><li><a href=#推送到github>推送到GitHub</a></li></ul></li><li><a href=#使用github-pages实现访问>使用GitHub Pages实现访问</a></li><li><a href=#使用github-action自动化部署>使用GitHub Action自动化部署</a><ul><li><a href=#配置github_token>配置github_token</a></li><li><a href=#配置github-action>配置GitHub Action</a></li><li><a href=#推送博客源码>推送博客源码</a></li><li><a href=#修改pages源分支>修改Pages源分支</a></li><li><a href=#域名绑定>域名绑定</a></li></ul></li></ul></li><li><a href=#搭建遇到的问题>搭建遇到的问题</a><ul><li><a href=#hugo配置文件参数错误>hugo配置文件参数错误</a></li><li><a href=#编译成功访问页面没有文章显示>编译成功访问页面没有文章显示</a></li><li><a href=#每次git-push之后刷新站点就显示404>每次git push之后，刷新站点就显示404</a></li></ul></li><li><a href=#参考链接>参考链接</a></li><li><a href=#git操作命令总结>Git操作命令总结</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>现在市面上的博客很多，如CSDN，博客园，简书等平台，可以直接在上面发表，用户交互做的好，写的文章百度也能搜索的到。缺点是比较不自由，会受到平台的各种限制和恶心的广告。</p><p>而自己购买域名和服务器，搭建博客的成本实在是太高了，不光是说这些购买成本，单单是花力气去自己搭这么一个网站，还要定期的维护它，对于我们大多数人来说，实在是没有这样的精力和时间。</p><p>那么就有第三种选择，直接在github page平台上托管我们的博客。这样就可以安心的来写作，又不需要定期维护，而且Hugo作为一个快速简洁的博客框架，用它来搭建博客真的非常容易。</p><h3 id=前言>前言</h3><p>Hugo 是一个基于Go语言开发的静态博客框架，号称世界上最快的构建网站工具。本文是我在网上看的其他人的博客和一些up主的视频，通过他们的分享成功搭建好了的案例，在这里我也进行一次总结，方便以后使用。</p><h3 id=目的>目的</h3><p>通过把博客文章的源代码托管到GitHub仓库，利用<a href=https://github.com/peaceiris/actions-hugo target=_blank rel="noopener noreffer">GitHub Actions for Hugo</a>功能持续集成部署，利用GitHub Pages实现网站的发布和访问，生成一个自己专属的个人博客网站。</p><h3 id=流程及原理>流程及原理</h3><ul><li>本地新建文章，push到 Github仓库的 main分支。main分支存放博客文章的源码。</li><li>push 操作自动触发预先配置的Actions。</li><li>GitHub Action自动执行yml文件中的"action"，构建打包，推送至gh-pages分支。</li><li>通过 Github Pages生成的 URL 访问即可。</li></ul><h3 id=详细步骤>详细步骤</h3><h4 id=安装git和关联github>安装git和关联GitHub</h4><p>这里我选择的是在Linux上搭建的，所以可以直接通过yum一条命令就能实现安装Git，其他平台的安装就不赘述了，自行百度下吧。</p><ul><li><p><strong>安装git</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>yum install -y git
</code></pre></td></tr></table></div></div></li><li><p><strong>创建GitHub账户和仓库</strong></p><p>没账号的登录<a href=https://github.com/ target=_blank rel="noopener noreffer">GitHub</a>创建账号，有账号的直接登录账号，点击右上角的加号—>New repository，创建一个仓库，名称必须为yourname.github.io, 其中yourname是你的github名称，按照这个规则创建才有用。点击Create repository完成创建。</p></li><li><p><strong>本地Git关联远程的GitHub账户：</strong></p><p>回到Linux中，用以下命令配置Github账户信息，用户名（Your Name）和邮箱（you@example.com）换成你自己的：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>git config --global user.email &#34;you@example.com&#34;；
git config --global user.name &#34;Your Name&#34;
</code></pre></td></tr></table></div></div><p>由于本地的 Git 仓库和 GitHub 仓库之间的传输是通过SSH加密的，所以我们需要配置验证信息,使用以下命令生成 SSH Key：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>ssh-keygen -t rsa -C &#34;youremail@example.com&#34;
</code></pre></td></tr></table></div></div><p>输入命令之后，直接三个回车即可，默认不需要设置密码；</p><p>找到~/.ssh 的文件夹中的 id_rsa.pub 密钥，将内容全部复制：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>cat ~/.ssh/id_rsa.pub
</code></pre></td></tr></table></div></div><p>回到GitHub中->Settings->SSH and GPG keys，新建SSH Key: New SSH key，填入刚刚复制的内容，粘贴到github的输入框中，点击Add SSH key即可保存本地的秘钥到github账号。</p><p>验证是否关联成功：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>root@web-blog public<span class=o>]</span><span class=c1># ssh -T git@github.com</span>
You<span class=err>&#39;</span>ve successfully authenticated, but GitHub does not provide shell access
</code></pre></td></tr></table></div></div></li></ul><h4 id=安装hugo>安装Hugo</h4><h5 id=下载hugo>下载Hugo</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>root@web-blog ~<span class=o>]</span><span class=c1># wget https://github.com/gohugoio/hugo/releases/download/v0.80.0/hugo_0.80.0_Linux-64bit.tar.gz</span>

<span class=c1>#解压后复制到bin目录</span>
<span class=o>[</span>root@web-blog ~<span class=o>]</span><span class=c1># tar -zxf hugo_0.80.0_Linux-64bit.tar.gz &amp;&amp; cp hugo /use/local/bin</span>

<span class=c1>#hugo version查看版本</span>
<span class=o>[</span>root@web-blog ~<span class=o>]</span><span class=c1># hugo version</span>
Hugo Static Site Generator v0.80.0-792EF0F4 linux/amd64 BuildDate: 2020-12-31T13:37:58Z
</code></pre></td></tr></table></div></div><h5 id=生成博客>生成博客</h5><p>命令：<code>hugo new site myblog</code></p><p>myblog为博客的目录名，可以修改为你自己想取的名字。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>root@web-blog ~<span class=o>]</span><span class=c1># hugo new site myblog</span>
Congratulations! Your new Hugo site is created in /root/myblog.

Just a few more steps and you<span class=err>&#39;</span>re ready to go:

1. Download a theme into the same-named folder.
   Choose a theme from https://themes.gohugo.io/ or
   create your own with the <span class=s2>&#34;hugo new theme &lt;THEMENAME&gt;&#34;</span> command.
2. Perhaps you want to add some content. You can add single files
   with <span class=s2>&#34;hugo new &lt;SECTIONNAME&gt;/&lt;FILENAME&gt;.&lt;FORMAT&gt;&#34;</span>.
3. Start the built-in live server via <span class=s2>&#34;hugo server&#34;</span>.

Visit https://gohugo.io/ <span class=k>for</span> quickstart guide and full documentation.
</code></pre></td></tr></table></div></div><h5 id=下载主题>下载主题</h5><p>主题官网：https://themes.gohugo.io ，找到想要的主题，点进去，复制下载命令，我这里下载的是even主题，在myblog目录下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>git clone https://github.com/olOwOlo/hugo-theme-even.git themes/even
</code></pre></td></tr></table></div></div><p>主题被下载到站点目录myblog下的themes/even下。</p><h5 id=启动博客>启动博客</h5><p>下载完成之后需要把主题even下的./exampleSite/config.toml复制到站点根目录下，这个文件中有博客首页的一些配置项，如“关于”“标签”“分类”等的开关，设置为true或者把注释解开即可在博客上看到该项了。</p><p>为了测试文章排版效果，还需要把./exampleSite/content/下的所有文件复制到站点目录的content目录下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># cp themes/even/exampleSite/config.toml ./</span>
<span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># vim config.toml</span>
<span class=nv>baseURL</span> <span class=o>=</span> <span class=s2>&#34;https://example.com&#34;</span>
<span class=nv>title</span> <span class=o>=</span> <span class=s2>&#34;Your title&#34;</span>
<span class=nv>themesDir</span> <span class=o>=</span> <span class=s2>&#34;../..&#34;</span>
<span class=nv>theme</span> <span class=o>=</span> <span class=s2>&#34;even&#34;</span>
<span class=nv>paginate</span> <span class=o>=</span> <span class=m>8</span>

<span class=o>[</span>menu<span class=o>]</span>
  <span class=o>[[</span>menu.main<span class=o>]]</span>
    <span class=nv>identifier</span> <span class=o>=</span> <span class=s2>&#34;home&#34;</span>
    <span class=nv>name</span> <span class=o>=</span> <span class=s2>&#34;Home&#34;</span>
    <span class=nv>url</span> <span class=o>=</span> <span class=s2>&#34;/&#34;</span>
    <span class=nv>weight</span> <span class=o>=</span> <span class=m>1</span>
  <span class=o>[[</span>menu.main<span class=o>]]</span>
    <span class=nv>identifier</span> <span class=o>=</span> <span class=s2>&#34;tags&#34;</span>
    <span class=nv>name</span> <span class=o>=</span> <span class=s2>&#34;Tags&#34;</span>
    <span class=nv>url</span> <span class=o>=</span> <span class=s2>&#34;/tags/&#34;</span>
    <span class=nv>weight</span> <span class=o>=</span> <span class=m>2</span>
  <span class=o>[[</span>menu.main<span class=o>]]</span>
    <span class=nv>identifier</span> <span class=o>=</span> <span class=s2>&#34;about&#34;</span>
    <span class=nv>name</span> <span class=o>=</span> <span class=s2>&#34;About&#34;</span>
    <span class=nv>url</span> <span class=o>=</span> <span class=s2>&#34;/about/&#34;</span>
    <span class=nv>weight</span> <span class=o>=</span> <span class=m>3</span>

<span class=c1>#复制测试文本到站点目录</span>
<span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># cp themes/even/exampleSite/content/* ./content</span>
<span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># ll content</span>
total <span class=m>8</span>
-rw-r--r-- <span class=m>1</span> root root  <span class=m>486</span> May <span class=m>13</span> 17:02 about.md
drwxr-xr-x <span class=m>2</span> root root <span class=m>4096</span> May <span class=m>13</span> 17:02 post
</code></pre></td></tr></table></div></div><p>启动博客，在myblog目录下键入命令：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># hugo server </span>
Start building sites … 

                   <span class=p>|</span> ZH-CN  
-------------------+--------
  Pages            <span class=p>|</span>     <span class=m>8</span>  
  Paginator pages  <span class=p>|</span>     <span class=m>0</span>  
  Non-page files   <span class=p>|</span>     <span class=m>0</span>  
  Static files     <span class=p>|</span>    <span class=m>38</span>  
  Processed images <span class=p>|</span>     <span class=m>0</span>  
  Aliases          <span class=p>|</span>     <span class=m>1</span>  
  Sitemaps         <span class=p>|</span>     <span class=m>1</span>  
  Cleaned          <span class=p>|</span>     <span class=m>0</span>  

Built in <span class=m>39</span> ms
Watching <span class=k>for</span> changes in /opt/myblog/<span class=o>{</span>archetypes,content,data,layouts,static,themes<span class=o>}</span>
Watching <span class=k>for</span> config changes in /opt/myblog/config.toml
Environment: <span class=s2>&#34;development&#34;</span>
Serving pages from memory
Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender
Web Server is available at http://localhost:1313/ <span class=o>(</span><span class=nb>bind</span> address 127.0.0.1<span class=o>)</span>
Press Ctrl+C to stop
</code></pre></td></tr></table></div></div><p>打开浏览器访问http://localhost:1313/，预览博客网页效果。按Ctrl+C可以停止服务。</p><h5 id=写一篇文章>写一篇文章</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># hugo new post/index.md</span>
/opt/myblog/content/post/index.md created
</code></pre></td></tr></table></div></div><p>生成的 Markdown 文件在myblog/context/post目录下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># vim /opt/myblog/content/post/index.md</span>
---
title: <span class=s2>&#34;index&#34;</span>
date: 2021-03-30T15:56:50+08:00
draft: <span class=nb>true</span>
---
</code></pre></td></tr></table></div></div><p>我们可以使用<strong>typora</strong>一类的Markdown编辑器编写好文章后再复制粘贴进去。</p><h5 id=编译博客>编译博客</h5><p>预览主题效果满意之后就可以编译了：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># hugo --theme=even --baseUrl=&#34;https://YourName.github.io/&#34; --buildDrafts</span>
Start building sites … 

                   <span class=p>|</span> ZH-CN  
-------------------+--------
  Pages            <span class=p>|</span>     <span class=m>8</span>  
  Paginator pages  <span class=p>|</span>     <span class=m>0</span>  
  Non-page files   <span class=p>|</span>     <span class=m>0</span>  
  Static files     <span class=p>|</span>    <span class=m>38</span>  
  Processed images <span class=p>|</span>     <span class=m>0</span>  
  Aliases          <span class=p>|</span>     <span class=m>1</span>  
  Sitemaps         <span class=p>|</span>     <span class=m>1</span>  
  Cleaned          <span class=p>|</span>     <span class=m>0</span>  

Total in <span class=m>70</span> ms
</code></pre></td></tr></table></div></div><blockquote><p>&ndash;theme=even：指定要使用的主题</p><p>&ndash;baseUrl=&ldquo;<a href=https://YourName.github.io/%22>https://YourName.github.io/"</a> ：指定git远程仓库地址</p><p>&ndash;buildDrafts：编译draft为true的文章。# hugo 会忽略所有通过 draft: true 标记为草稿的文件。</p></blockquote><p>上面三个参数都可以在config.toml配置文件中进行修改，若修改了则只需要运行<code>hugo</code>就可以进行编译了。</p><p>Hugo会把博客编译成HTML静态网页，保存在./public目录下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>[root@web-blog myblog]# ll public/
total 124
-rw-r--r-- 1 root root  7844 May 21 10:46 404.html
-rw-r--r-- 1 root root  4930 May 13 17:02 android-chrome-192x192.png
-rw-r--r-- 1 root root  5498 May 13 17:02 android-chrome-512x512.png
-rw-r--r-- 1 root root  2530 May 13 17:02 apple-touch-icon.png
-rw-r--r-- 1 root root   246 May 13 17:02 browserconfig.xml
drwxr-xr-x 2 root root  4096 May 21 10:46 categories
-rw-r--r-- 1 root root   737 May 13 17:02 favicon-16x16.png
-rw-r--r-- 1 root root  1019 May 13 17:02 favicon-32x32.png
-rw-r--r-- 1 root root 15086 May 13 17:02 favicon.ico
drwxr-xr-x 4 root root  4096 May 13 17:02 fonts
drwxr-xr-x 3 root root  4096 May 13 17:02 img
-rw-r--r-- 1 root root  7550 May 21 10:46 index.html
-rw-r--r-- 1 root root   469 May 21 10:46 index.xml
drwxr-xr-x 2 root root  4096 May 21 10:46 js
drwxr-xr-x 9 root root  4096 May 13 17:02 lib
-rw-r--r-- 1 root root   403 May 13 17:02 manifest.json
-rw-r--r-- 1 root root  2556 May 13 17:02 mstile-150x150.png
drwxr-xr-x 3 root root  4096 May 21 10:46 page
-rw-r--r-- 1 root root    66 May 21 10:46 robots.txt
-rw-r--r-- 1 root root  1355 May 13 17:02 safari-pinned-tab.svg
drwxr-xr-x 2 root root  4096 May 21 10:46 sass
-rw-r--r-- 1 root root   570 May 21 10:46 sitemap.xml
-rw-r--r-- 1 root root  3885 May 13 17:02 sitemap.xsl
drwxr-xr-x 2 root root  4096 May 21 10:46 tags
</code></pre></td></tr></table></div></div><h5 id=推送到github>推送到GitHub</h5><p>逐步使用下列命令推送public目录下的文件到GitHub进行托管：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>rm -rf public		
hugo 		<span class=c1>#编译</span>
<span class=nb>cd</span> public	<span class=c1>#切换到public目录</span>
git init	<span class=c1>#初始化本地git仓库</span>
git add .	<span class=c1>#添加所有文件到本地git库</span>
git commit -m <span class=s2>&#34;first commit&#34;</span>	<span class=c1>#提交改动到本地git仓库并添加备注</span>
git remote add origin https://github.com/YourName/YourName.github.io.git	<span class=c1>#添加远程仓库源地址，注意地址后面要加上.git</span>
git push -u origin master       <span class=c1>#推送到github远程仓库YourName.github.io的master分支</span>
</code></pre></td></tr></table></div></div><p>为了减少后续的重复步骤，可以使用脚本进行推送：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell><span class=cp>#!/bin/bash
</span><span class=cp></span>
<span class=nv>myblog_dir</span><span class=o>=</span>/opt/myblog      <span class=c1>#博客网站根目录</span>
<span class=nv>public</span><span class=o>=</span>/opt/myblog/public   <span class=c1>#生成的git静态网页</span>
<span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;build site `date`&#34;</span>         <span class=c1>#git commit的备注信息</span>

<span class=k>if</span> <span class=o>[</span> -e <span class=nv>$public</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
        <span class=nb>cd</span> <span class=nv>$myblog_dir</span>
        rm -rf <span class=nv>$public</span>  <span class=c1>#删除原有静态文件</span>
        hugo --theme<span class=o>=</span>m10c --baseUrl<span class=o>=</span><span class=s2>&#34;https://YourName.github.io/&#34;</span> --buildDrafts     <span class=c1>#指定主题编译成静态文件，存放在public</span>
        <span class=nb>cd</span> <span class=nv>$public</span>
        git init
        git add .
        
        <span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -eq <span class=m>1</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
          <span class=nv>msg</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span>
        <span class=k>fi</span>
        git commit -m <span class=s2>&#34;</span><span class=nv>$msg</span><span class=s2>&#34;</span>
        git remote add origin https://github.com/YourName/YourName.github.io.git	<span class=c1>#添加仓库源</span>
        git push -u origin master  <span class=c1>#推送到GitHub</span>
        <span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -eq <span class=m>0</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
                <span class=nb>echo</span> <span class=s2>&#34;文章已更新至github！&#34;</span>
        <span class=k>fi</span>
<span class=k>fi</span>
</code></pre></td></tr></table></div></div><h4 id=使用github-pages实现访问>使用GitHub Pages实现访问</h4><p>回到GitHub网站上，查看仓库上有没有刚刚推送的文件。再到YourName.github.io仓库的Settings->Pages，可以看到：</p><blockquote><p>GitHub Pages</p><p><a href=https://pages.github.com/ target=_blank rel="noopener noreffer">GitHub Pages</a> is designed to host your personal, organization, or project pages from a GitHub repository.</p><p>Your site is published at <a href=https://YourName.github.io/>https://YourName.github.io/</a></p></blockquote><p>到这一步即可访问YourName.github.io来访问你的个人专属博客了。</p><h4 id=使用github-action自动化部署>使用GitHub Action自动化部署</h4><blockquote><p>每次写了博客，总得手动部署一下，虽然也只是一两行的命令，但还是觉得有些麻烦。之前看过另外一位博友的文章，得知可以利用 Github Action 实现博客的备份和自动生成的功能。这里记录一下。</p></blockquote><h5 id=配置github_token>配置github_token</h5><blockquote><p>为什么需要token？ 当我们在通过Git提交源码之后，Github Actions会编译生成静态文件并通过Git Push到 gh-pages分支，这一步需要 Git 账户认证。</p></blockquote><ul><li><p>生成个人令牌：回到GitHub账号下的Setting -> Developer setting -> Personal access tokens-> Generate，生成并记录下来。</p></li><li><p>添加secret：回到GitHub账号youname.github.io仓库下的settings->secret->add。添加进刚才生成token，要特别注意变量名Name要设置为“GITHUB_TOKEN”的格式并记录下来，以便后面配置Action时，yaml文件的调用。</p></li></ul><h5 id=配置github-action>配置GitHub Action</h5><p>在youname.github.io仓库下，选择“Actions”，新建Action->Simple workflow ，之后会跳转到一个编辑yaml文件的页面，修改yml文件名为gh-pages.yml。会在仓库的main分支下生成.github/workflows/gh-pages.yaml文件。</p><p>yml文件代码可以参考如下，根据需要修改：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-yaml data-lang=yaml><span class=c># based on https://github.com/peaceiris/actions-hugo</span><span class=w>
</span><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>github pages</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>  </span><span class=c>#  在push操作时触发</span><span class=w>
</span><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=l>main </span><span class=w> </span><span class=c># Set a branch to deploy</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-18.04</span><span class=w>
</span><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># Fetch Hugo themes (true OR recursive)</span><span class=w>
</span><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>    </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;0.79.1&#39;</span><span class=w>
</span><span class=w>          </span><span class=c># extended: true</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w>
</span><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>github_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACCESS_TOKEN }}</span><span class=w>
</span><span class=w>          </span><span class=c>#publish_branch: gh-pages			#默认编译到gh-pages分支，可不写</span><span class=w>
</span><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span><span class=w>          </span><span class=nt>cname</span><span class=p>:</span><span class=w> </span><span class=l>huang.pingyangblog.com</span><span class=w>
</span></code></pre></td></tr></table></div></div><h5 id=推送博客源码>推送博客源码</h5><p>回到Linux的hugo站点目录下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>
<span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># rm -rf public/					#删除之前编译的public目录</span>

<span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># git checkout -b main			#本地创建main分支并切换至main分支</span>

<span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># git pull origin main			#拉取刚刚在GitHub上新建的gh-pages.yml文件</span>

<span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># git add .						#添加博客和主题所有文件到本地仓库</span>

<span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># git commit -m &#34;first commit&#34;	#提交修改文件</span>

<span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># git push origin main			#推送到GitHub的main分支</span>
</code></pre></td></tr></table></div></div><p>推送没问题回到GitHub，等待片刻查看Actions 是否部署成功，成功会显示绿色，并且在代码分支上会多出一条分支gh-pages，存放的是之前在本地hugo编译的public目录下的静态文件。</p><h5 id=修改pages源分支>修改Pages源分支</h5><p>再到Settings->Pages选项下，修改source源分支为gh-pages，点击save。再访问https://yourname.github.io即可查看搭建的博客了。</p><p>至此，整个搭建就全部结束了，后续可以在本地使用hugo new命令新建文章push到GitHub，再到GitHub端进行编辑文章。</p><h5 id=域名绑定>域名绑定</h5><p>自行购买服务器和域名，进行备案后，到Pages的域名绑定选项绑定即可。这里就不赘述了。</p><p>我这里是购买了一个十年的域名，然后服务器购买最低配最便宜的就行了，仅仅只是为了备案使用而已，或者选择境外的服务器则无需备案了。</p><h3 id=搭建遇到的问题>搭建遇到的问题</h3><h4 id=hugo配置文件参数错误>hugo配置文件参数错误</h4><p>在本地使用<code>hugo server</code>命令进行本地编译预览时报错:</p><p><code>WARN 2020/02/17 20:51:06 found no layout file for "HTML" for "page": You should create a template file which matches Hugo Layouts Lookup Rules for this combination.</code></p><p>意思为：“找不到用于“页面”的“ HTML”布局文件”。</p><p>原因是没有指定所使用的主题。由于<code>hugo new site mysite</code>新建出来的站点目录中，存放主题的目录名为“themes”，导致我以为hugo的站点配置文件config.toml里指定的主题键名为”themes“，而实际应该是“theme”才对，才能正常编译。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>root@web-blog myblog<span class=o>]</span><span class=c1># vim themes/even/exampleSite/config.toml</span>
<span class=nv>baseURL</span> <span class=o>=</span> <span class=s2>&#34;http://localhost:1313/&#34;</span>
<span class=nv>languageCode</span> <span class=o>=</span> <span class=s2>&#34;en&#34;</span>
<span class=nv>defaultContentLanguage</span> <span class=o>=</span> <span class=s2>&#34;en&#34;</span>                             <span class=c1># en / zh-cn / ... (This field determines which i18n file to use)</span>
<span class=nv>title</span> <span class=o>=</span> <span class=s2>&#34;Even - A super concise theme for Hugo&#34;</span>
<span class=nv>preserveTaxonomyNames</span> <span class=o>=</span> <span class=nb>true</span>
<span class=nv>enableRobotsTXT</span> <span class=o>=</span> <span class=nb>true</span>
<span class=nv>enableEmoji</span> <span class=o>=</span> <span class=nb>true</span>
<span class=nv>theme</span> <span class=o>=</span> <span class=s2>&#34;even&#34;</span>
</code></pre></td></tr></table></div></div><h4 id=编译成功访问页面没有文章显示>编译成功访问页面没有文章显示</h4><p>使用<code>hugo new post/index.md</code>新建的文章，是以<code>./archetypes/default.md</code>为模板创建的，默认的draft的值为true，hugo在编译时会忽略所有draft为true的文章，导致编译成功访问站点时发现没有文章显示。</p><p><strong>解决办法：文章中draft（草稿）的值需设置为false，或者去掉./archetypes/default.md文件中的draft参数</strong></p><h4 id=每次git-push之后刷新站点就显示404>每次git push之后，刷新站点就显示404</h4><p>写完文章push到github上之后，再刷新站点会显示404，网页找不到。然后到github pages检查发现之前绑定的域名被清空了。</p><p><strong>解决办法：需要在gh-pages.yaml文件中加上cname选项，值为自己的域名。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-yaml data-lang=yaml><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>github_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACCESS_TOKEN }}</span><span class=w>
</span><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span><span class=w>          </span><span class=nt>cname</span><span class=p>:</span><span class=w> </span><span class=l>domain.com</span><span class=w>
</span></code></pre></td></tr></table></div></div><h3 id=参考链接>参考链接</h3><p>Hugo官网：https://gohugo.io/</p><p>Hugo中文网：https://www.gohugo.cn/hosting-and-deployment/hosting-on-github/</p><p>Hugo中文帮助手册：https://hugo.aiaide.com/</p><p><a href=https://docs.github.com/cn/actions/guides/about-continuous-integration target=_blank rel="noopener noreffer">Github Action 官方文档</a></p><p><a href=https://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html target=_blank rel="noopener noreffer">GitHub Actions 入门教程</a></p><h3 id=git操作命令总结>Git操作命令总结</h3><ul><li><p><strong>git push</strong></p><p>git push 命用于从将本地的分支版本上传到远程并合并。命令格式如下：</p><p><code>git push &lt;远程主机名> &lt;本地分支名>:&lt;远程分支名></code></p><p>如果本地分支名与远程分支名相同，则可以省略冒号：
<code>git push &lt;远程主机名> &lt;本地分支名></code></p></li><li><p><strong>git push -f</strong></p></li></ul><blockquote><p>覆盖远程GitHub仓库的代码，强制推送。主要是为了解决本地仓库内容和远程仓库不一致而导致的push失败报错的问题，（在正常的开发项目中一般不建议这样操作，因为会覆盖所有其他成员提交的代码，只保留你自己的，属于危险操作！）：</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>git push -f origin master		#强制推送到origin源
git push -u origin master		#正常推送到origin源
</code></pre></td></tr></table></div></div><ul><li><p><strong>git checkout -b main</strong> #创建main分支并切换到main分支</p></li><li><p><strong>git remote -v</strong> #查看本地添加的源地址</p></li><li><p>添加主题：使用git添加子模块的方式添加主题源地址，信息保存在.gitmodule</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>git submodule add https://github.com/halogenica/beautifulhugo.git themes/beautifulhugo
</code></pre></td></tr></table></div></div></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2021-05-27</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://pingyangblog.com/setup-hugo-blog/ data-title="Hugo+GitHub Action+Github Pages搭建个人博客" data-hashtags=搭建><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://pingyangblog.com/setup-hugo-blog/ data-hashtag=搭建><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://pingyangblog.com/setup-hugo-blog/ data-title="Hugo+GitHub Action+Github Pages搭建个人博客"><i class="fab fa-weibo fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E6%90%AD%E5%BB%BA/>搭建</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/theme-seo/ class=next rel=next title=Index>Index<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.79.1">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://pingyangblog.com/ target=_blank>Yuepu</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"HuangPingyang1/HuangPingyang1.github.io"}},"data":{"id-1":"Yuepu`s Blog","id-2":"Yuepu`s Blog"},"search":{"algoliaAppID":"2UDN47PMZH","algoliaIndex":"index.zh-cn","algoliaSearchKey":"a231dc9f81d735f154a8d6e21bdc6899","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>